import{g as ee}from"./index-76b6000a.js";function te(R,L){for(var l=0;l<L.length;l++){const P=L[l];if(typeof P!="string"&&!Array.isArray(P)){for(const C in P)if(C!=="default"&&!(C in R)){const B=Object.getOwnPropertyDescriptor(P,C);B&&Object.defineProperty(R,C,B.get?B:{enumerable:!0,get:()=>P[C]})}}}return Object.freeze(Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}))}var V={exports:{}};(function(R){(function(L){var l=K(),P=Q(),C=Y(),B=Z(),F={imagePlaceholder:void 0,cacheBust:!1},S={toSvg:M,toPng:$,toJpeg:X,toBlob:G,toPixelData:_,impl:{fontFaces:C,images:B,util:l,inliner:P,options:{}}};R.exports=S;function M(n,t){return t=t||{},W(t),Promise.resolve(n).then(function(i){return N(i,t.filter,!0)}).then(q).then(z).then(r).then(function(i){return J(i,t.width||l.width(n),t.height||l.height(n))});function r(i){return t.bgcolor&&(i.style.backgroundColor=t.bgcolor),t.width&&(i.style.width=t.width+"px"),t.height&&(i.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(s){i.style[s]=t.style[s]}),i}}function _(n,t){return j(n,t||{}).then(function(r){return r.getContext("2d").getImageData(0,0,l.width(n),l.height(n)).data})}function $(n,t){return j(n,t||{}).then(function(r){return r.toDataURL()})}function X(n,t){return t=t||{},j(n,t).then(function(r){return r.toDataURL("image/jpeg",t.quality||1)})}function G(n,t){return j(n,t||{}).then(l.canvasToBlob)}function W(n){typeof n.imagePlaceholder>"u"?S.impl.options.imagePlaceholder=F.imagePlaceholder:S.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust>"u"?S.impl.options.cacheBust=F.cacheBust:S.impl.options.cacheBust=n.cacheBust}function j(n,t){return M(n,t).then(l.makeImage).then(l.delay(100)).then(function(i){var s=r(n);return s.getContext("2d").drawImage(i,0,0),s});function r(i){var s=document.createElement("canvas");if(s.width=t.width||l.width(i),s.height=t.height||l.height(i),t.bgcolor){var c=s.getContext("2d");c.fillStyle=t.bgcolor,c.fillRect(0,0,s.width,s.height)}return s}}function N(n,t,r){if(!r&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(i).then(function(o){return s(n,o,t)}).then(function(o){return c(n,o)});function i(o){return o instanceof HTMLCanvasElement?l.makeImage(o.toDataURL()):o.cloneNode(!1)}function s(o,a,p){var b=o.childNodes;if(b.length===0)return Promise.resolve(a);return m(a,l.asArray(b),p).then(function(){return a});function m(I,v,g){var y=Promise.resolve();return v.forEach(function(U){y=y.then(function(){return N(U,g)}).then(function(w){w&&I.appendChild(w)})}),y}}function c(o,a){if(!(a instanceof Element))return a;return Promise.resolve().then(p).then(b).then(m).then(I).then(function(){return a});function p(){v(window.getComputedStyle(o),a.style);function v(g,y){g.cssText?y.cssText=g.cssText:U(g,y);function U(w,E){l.asArray(w).forEach(function(e){E.setProperty(e,w.getPropertyValue(e),w.getPropertyPriority(e))})}}}function b(){[":before",":after"].forEach(function(g){v(g)});function v(g){var y=window.getComputedStyle(o,g),U=y.getPropertyValue("content");if(U===""||U==="none")return;var w=l.uid();a.className=a.className+" "+w;var E=document.createElement("style");E.appendChild(e(w,g,y)),a.appendChild(E);function e(u,h,f){var d="."+u+":"+h,A=f.cssText?O(f):k(f);return document.createTextNode(d+"{"+A+"}");function O(x){var T=x.getPropertyValue("content");return x.cssText+" content: "+T+";"}function k(x){return l.asArray(x).map(T).join("; ")+";";function T(D){return D+": "+x.getPropertyValue(D)+(x.getPropertyPriority(D)?" !important":"")}}}}}function m(){o instanceof HTMLTextAreaElement&&(a.innerHTML=o.value),o instanceof HTMLInputElement&&a.setAttribute("value",o.value)}function I(){a instanceof SVGElement&&(a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a instanceof SVGRectElement&&["width","height"].forEach(function(v){var g=a.getAttribute(v);g&&a.style.setProperty(v,g)}))}}}function q(n){return C.resolveAll().then(function(t){var r=document.createElement("style");return n.appendChild(r),r.appendChild(document.createTextNode(t)),n})}function z(n){return B.inlineAll(n).then(function(){return n})}function J(n,t,r){return Promise.resolve(n).then(function(i){return i.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(i)}).then(l.escapeXhtml).then(function(i){return'<foreignObject x="0" y="0" width="100%" height="100%">'+i+"</foreignObject>"}).then(function(i){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+i+"</svg>"}).then(function(i){return"data:image/svg+xml;charset=utf-8,"+i})}function K(){return{escape:I,parseExtension:t,mimeType:r,dataAsUrl:m,isDataUrl:i,canvasToBlob:c,resolveUrl:o,getAndEncode:b,uid:a(),delay:v,asArray:g,escapeXhtml:y,makeImage:p,width:U,height:w};function n(){var e="application/font-woff",u="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:u,jpeg:u,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(e){var u=/\.([^\.\/]*?)$/g.exec(e);return u?u[1]:""}function r(e){var u=t(e).toLowerCase();return n()[u]||""}function i(e){return e.search(/^(data:)/)!==-1}function s(e){return new Promise(function(u){for(var h=window.atob(e.toDataURL().split(",")[1]),f=h.length,d=new Uint8Array(f),A=0;A<f;A++)d[A]=h.charCodeAt(A);u(new Blob([d],{type:"image/png"}))})}function c(e){return e.toBlob?new Promise(function(u){e.toBlob(u)}):s(e)}function o(e,u){var h=document.implementation.createHTMLDocument(),f=h.createElement("base");h.head.appendChild(f);var d=h.createElement("a");return h.body.appendChild(d),f.href=u,d.href=e,d.href}function a(){var e=0;return function(){return"u"+u()+e++;function u(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function p(e){return new Promise(function(u,h){var f=new Image;f.onload=function(){u(f)},f.onerror=h,f.src=e})}function b(e){var u=3e4;return S.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime()),new Promise(function(h){var f=new XMLHttpRequest;f.onreadystatechange=O,f.ontimeout=k,f.responseType="blob",f.timeout=u,f.open("GET",e,!0),f.send();var d;if(S.impl.options.imagePlaceholder){var A=S.impl.options.imagePlaceholder.split(/,/);A&&A[1]&&(d=A[1])}function O(){if(f.readyState===4){if(f.status!==200){d?h(d):x("cannot fetch resource: "+e+", status: "+f.status);return}var T=new FileReader;T.onloadend=function(){var D=T.result.split(/,/)[1];h(D)},T.readAsDataURL(f.response)}}function k(){d?h(d):x("timeout of "+u+"ms occured while fetching resource: "+e)}function x(T){console.error(T),h("")}})}function m(e,u){return"data:"+u+";base64,"+e}function I(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function v(e){return function(u){return new Promise(function(h){setTimeout(function(){h(u)},e)})}}function g(e){for(var u=[],h=e.length,f=0;f<h;f++)u.push(e[f]);return u}function y(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")}function U(e){var u=E(e,"border-left-width"),h=E(e,"border-right-width");return e.scrollWidth+u+h}function w(e){var u=E(e,"border-top-width"),h=E(e,"border-bottom-width");return e.scrollHeight+u+h}function E(e,u){var h=window.getComputedStyle(e).getPropertyValue(u);return parseFloat(h.replace("px",""))}}function Q(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:s,shouldProcess:t,impl:{readUrls:r,inline:i}};function t(c){return c.search(n)!==-1}function r(c){for(var o=[],a;(a=n.exec(c))!==null;)o.push(a[1]);return o.filter(function(p){return!l.isDataUrl(p)})}function i(c,o,a,p){return Promise.resolve(o).then(function(m){return a?l.resolveUrl(m,a):m}).then(p||l.getAndEncode).then(function(m){return l.dataAsUrl(m,l.mimeType(o))}).then(function(m){return c.replace(b(o),"$1"+m+"$3")});function b(m){return new RegExp(`(url\\(['"]?)(`+l.escape(m)+`)(['"]?\\))`,"g")}}function s(c,o,a){if(p())return Promise.resolve(c);return Promise.resolve(c).then(r).then(function(b){var m=Promise.resolve(c);return b.forEach(function(I){m=m.then(function(v){return i(v,I,o,a)})}),m});function p(){return!t(c)}}}function Y(){return{resolveAll:n,impl:{readAll:t}};function n(){return t().then(function(r){return Promise.all(r.map(function(i){return i.resolve()}))}).then(function(r){return r.join(`
`)})}function t(){return Promise.resolve(l.asArray(document.styleSheets)).then(i).then(r).then(function(c){return c.map(s)});function r(c){return c.filter(function(o){return o.type===CSSRule.FONT_FACE_RULE}).filter(function(o){return P.shouldProcess(o.style.getPropertyValue("src"))})}function i(c){var o=[];return c.forEach(function(a){try{l.asArray(a.cssRules||[]).forEach(o.push.bind(o))}catch(p){console.log("Error while reading CSS rules from "+a.href,p.toString())}}),o}function s(c){return{resolve:function(){var a=(c.parentStyleSheet||{}).href;return P.inlineAll(c.cssText,a)},src:function(){return c.style.getPropertyValue("src")}}}}}function Z(){return{inlineAll:t,impl:{newImage:n}};function n(r){return{inline:i};function i(s){return l.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(s||l.getAndEncode).then(function(c){return l.dataAsUrl(c,l.mimeType(r.src))}).then(function(c){return new Promise(function(o,a){r.onload=o,r.onerror=a,r.src=c})})}}function t(r){if(!(r instanceof Element))return Promise.resolve(r);return i(r).then(function(){return r instanceof HTMLImageElement?n(r).inline():Promise.all(l.asArray(r.childNodes).map(function(s){return t(s)}))});function i(s){var c=s.style.getPropertyValue("background");return c?P.inlineAll(c).then(function(o){s.style.setProperty("background",o,s.style.getPropertyPriority("background"))}).then(function(){return s}):Promise.resolve(s)}}}})()})(V);var H=V.exports;const ne=ee(H),oe=te({__proto__:null,default:ne},[H]);export{oe as d};
